---
title: 打印设备安装
description: 提供有关初次安装端口连接的打印设备的信息，以及在设备首次连接时可能的系统状态。
ms.assetid: 47bbe4cd-bcbc-42d5-9513-9ea659c123dc
keywords:
- 热插拔总线 WDK 打印机
- 打印机安装检查 WDK
- 状态 WDK 打印机
- 验证打印机安装
- 安装的驱动程序测试 WDK 打印机
ms.date: 07/07/2020
ms.localizationpriority: medium
ms.openlocfilehash: 05ec925488fcb8381cd8facfb9422370fcad2432
ms.sourcegitcommit: f500ea2fbfd3e849eb82ee67d011443bff3e2b4c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/31/2020
ms.locfileid: "89218242"
---
# <a name="print-device-installation"></a>打印设备安装

端口连接设备的初始安装可通过多种方式发生，并且当设备首次连接时，系统可能处于各种状态。

| 系统状态 | 设备测试方案 |
| --- | --- |
| 系统 (S5)  | 启动安装 |
| 系统工作状态 (S0)  | 基本即插即用 |
| 处于睡眠状态的系统 (S1-S4)  | 请参阅 [电源管理](power-management.md) |

有关详细信息，请参阅 [系统电源状态](../kernel/system-power-states.md)。

设备初始安装的最常见系统电源状态是系统工作状态 S0。 大多数设备安装测试最初都应该集中在此处，但在其他系统电源状态下验证安装很重要。

在第一次连接时，设备的即插即用 (PnP) 兼容性可以在设备状态中进行评估。 在 "初始安装测试" 中，使用附加设备启动系统，然后在系统处于 "系统工作状态" S0 时安装设备。 最后，请在所有可能的系统电源状态组合中验证设备连接和安装。 有关更多详细信息，请参阅 [电源管理](power-management.md)。

## <a name="verifying-basic-installation"></a>验证基本安装

首次连接打印机时，应收到即插即用 (PnP) 通知。 验证是否已正确确定设备。 应正确识别设备名称。 如果提供了正确的驱动程序，则设备应安装成功。 如果驱动程序安装失败，请打开设备管理器以查找错误的可能原因。 双击 "**管理工具**" 控制面板中的 "**计算机管理**" 以打开设备管理器。 或者，选择并按住 (或右键单击桌面上的 **我的电脑** 图标) ，然后选择 " **属性**"。 在 " **硬件** " 选项卡上，选择 **设备管理器**。

请确保以下两个方案顺利工作：

- 首先安装驱动程序，然后安装该设备。

- 首先安装设备，然后安装驱动程序。

## <a name="using-control-panel-applications-to-confirm-device-installation"></a>使用控制面板应用程序确认设备安装

成功安装驱动程序后，请使用以下控制面板应用程序来验证是否已将打印机安装到正确的位置。

- **设备管理器：** 检查设备是否安装正确。 它应根据其连接到的总线在树中列出。 在设备管理器中，验证打印机是否响应了禁用/重新启用和卸载/安装设备的请求。 若要重新安装设备，请在 "设备管理器 **操作** " 菜单上，选择 " **扫描检测硬件改动**"。

- **打印机和传真：** 在此控制面板应用程序中，验证是否显示了 "打印机" 图标。 同时，验证是否可以成功删除打印机图标。 确认可以使用 "添加打印机向导" 重新安装打印机。

- **设备特定的控制面板应用程序：** 某些总线（如蓝牙）有自己的控制面板应用程序。 在此控制面板应用程序中，验证是否正确安装了设备、设备是否通过专用总线进行连接，以及设备是否可以成功删除和安装。

## <a name="finding-canceling-and-deleting-installations"></a>查找、取消和删除安装

测试打印设备安装，如下所示：

- 安装打印机时，请尝试取消安装，然后重新启动安装。 您的打印机应能继续成功安装。

- 成功安装打印机后，请将其删除，然后重新安装。 它应该在安装时不会出现问题。

- 请确保在打印机共享的同一总线上安装其他资源的同时，您的打印机可以打印。

- 成功安装打印机后，请尝试再次安装。 不应显示任何对话框，公告已找到新硬件，也不应启动 "新建硬件向导"。

- 请确保设备电源重启正常。 如果打印机位于支持热插拔的总线上，则它应显示在 " **打印机和传真** " 窗口中 ("控制面板") "脱机"。 同时，检查设备管理器，验证设备是否已从系统中删除。

### <a name="bus-specific-hardware-requirements"></a>特定于总线的硬件要求

某些总线，如通用串行总线 (USB) ，可能会有不同的硬件要求。 请确保在各种硬件上测试打印机安装，涵盖尽可能多的变化。 对于 USB，请确保已在开放主机控制器接口上测试设备， (OHCI、USB 1.1) 、通用主机控制器接口 (UHCI、USB 1.1) ，或 (EHCI，USB 1.1) 的增强主机控制器接口。

### <a name="hot-pluggable-buses-and-device-chaining"></a>热插拔总线和设备链接

某些总线（如 USB 和 IEEE 1394）为 "热插拔"，这意味着只需将设备从计算机拔出或关闭设备，即可从总线中删除该设备。 若要验证热插拔设备是否正常工作，请完成以下操作：

1. 将设备插入计算机。

1. 使用前面讨论过的控制面板应用程序，验证是否已将设备安装到正确的位置。

1. 验证设备是否正常工作。

1. 从计算机中拔出设备，并确保设备不再出现在设备管理器中。

1. 如果总线支持链接，请将多个设备链接在一起，并验证该设备是否安装和正常运行。

1. 对于 USB 设备，请验证该设备是否可在各种配置和类型的 USB 集线器上工作，包括 USB 1.1 和 USB 2.0 以及多个设备的链。

若要测试集线器上的打印机，请完成以下操作：

1. 尝试在同一集线器和链式集线器上的不同端口上安装打印设备。

1. 测试其他打印机 (相同和不同的模型) 同一集线器和链式中心。

1. 验证是否在安装其他设备时正确安装了打印机。

1. 将打印机插入新的集线器设备时，还需要安装其他端口连接设备。

1. 在不同的端口上安装多个打印机，然后验证是否只安装了每个打印机的一个实例。

1. 断开打印机与一个端口的连接并将其连接到另一个端口，然后验证它是否已从旧端口成功卸载并成功重新安装到新端口