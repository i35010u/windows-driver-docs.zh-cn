---
title: 符号语法和符号匹配
description: 符号语法和符号匹配
keywords:
- 符号，符号语法
- 符号，符号匹配
- 符号，符号后缀
- '命令的语法规则 $ (本地符号标识符) '
- '$ (本地符号标识符) '
- '本地符号标识符 ( $ ) '
- '局部变量、本地符号标识符 ( $ ) '
ms.date: 05/23/2017
ms.localizationpriority: medium
ms.openlocfilehash: ccce12acaf499e79c7c08c498c105dbb8de4d45d
ms.sourcegitcommit: 83a11e69f7b175011d032a179e4cfa6d5ede9ac2
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/01/2021
ms.locfileid: "106113620"
---
# <a name="symbol-syntax-and-symbol-matching"></a>符号语法和符号匹配

符号使你可以直接操作正在调试的程序所使用的标记。 例如，可以在函数 **main** 上使用命令 **最佳的 main** 设置断点，或使用命令 **dd MyInt L1** 显示整数变量 **MyInt** 。

在许多情况下，可以在调试器命令中将符号用作参数。 大多数数字参数都支持此支持，某些文本参数也支持此项。 除了符号语法的一般规则外，还存在适用于每种情况的符号语法规则。

## <a name="general-symbol-syntax-rules"></a>一般符号语法规则

符号名称由一个或多个字符组成，但始终以字母、下划线 (**\_**) 、问号 (**？**) 或美元符号 (**$**) 开头。

符号名称可以由模块名称限定。 感叹号 (**！**) 将 (的模块名称与 **mymodule！ main**) 的符号分隔开来。 如果未使用任何模块名称，则该符号仍可使用感叹号作为前缀。 即使对于局部变量，使用带有无模块名称的感叹号也是非常有用的，以便向调试器命令指示参数是名称而不是十六进制数。 例如，如果使用的是带感叹号的前缀或使用-n 选项，则 dt (会将变量 **淡入**[**显示类型)**](dt--display-type-.md)命令。 但是，若要指定某个符号为本地符号，请在其前面加上美元符号 ( $ ) ，并将感叹号 (！ ) ，如 **$！橙色**。

符号名称完全不区分大小写。 这意味着，调试程序将不能正确了解程序中是否存在 **myInt** 和 **myInt** ;任何引用其中一个命令的命令都可以访问另一个命令，而不管该命令是如何大写的。

## <a name="symbol-syntax-in-numerical-expressions"></a>数值表达式中的符号语法

调试器理解两种不同类型的表达式： Microsoft 宏组装器 (MASM) 表达式和 c + + 表达式。 就符号而言，这两种形式的语法不同，如下所示：

-   在 MASM 表达式中，每个符号被解释为一个地址。 根据符号所引用的内容，这将是全局变量、局部变量、函数、段、模块或任何其他可识别标签的地址。

-   在 c + + 表达式中，将根据符号的类型解释每个符号。 根据符号所引用的内容，它可以解释为整数、数据结构、函数指针或任何其他数据类型。 不对应于 c + + 数据类型的符号 (如未修改的模块名称) 将导致语法错误。

有关何时以及如何使用每种类型的语法的说明，请参阅 [计算表达式](evaluating-expressions.md)。

如果使用的是 MASM 表达式语法，可以解释为十六进制数或寄存器的任何符号 (例如， **BadFeed**、 **ebX**) 应始终以感叹号作为前缀。 这会确保调试器将其识别为符号。

[**Ss (设置符号后缀)**](ss--set-symbol-suffix-.md)命令可用于设置符号后缀。 这会指示调试器自动将 "A" 或 "W" 追加到它不能找到的任何符号名称。

ASCII 和 Unicode 版本中同时存在许多 Win32 例程。 这些例程通常会将 "A" 或 "W" 附加到其名称的末尾。 在搜索这些符号时，使用符号后缀有助于调试器。

默认情况下，后缀匹配不处于活动状态。

## <a name="symbol-syntax-in-text-expressions"></a>文本表达式中的符号语法

可以在某些命令的文本参数中使用符号，例如 [**bm.exe (设置断点)**](bp--bu--bm--set-breakpoint-.md) 和 [**x (检查符号)**](x--examine-symbols-.md)。

这些文本参数支持多种通配符和说明符。 有关详细信息，请参阅 [字符串通配符语法](string-wildcard-syntax.md) 。 除了标准字符串通配符以外，用于指定符号的文本表达式还可以带前导下划线作为前缀。 将此值与符号进行匹配时，调试器会将此视为任意数量的下划线，甚至为零。

当在文本表达式中匹配符号时，不使用符号后缀。

 

 





